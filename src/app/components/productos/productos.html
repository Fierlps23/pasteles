<section class="catalogo">
	<div class="catalog-header">
		<h3 class="title">Nuestro <span class="gradient-text">CatÃ¡logo</span></h3>
		<p class="lead">Descubre nuestra selecciÃ³n de pasteles artesanales, preparados con ingredientes premium y tÃ©cnicas tradicionales.</p>
	</div>

	<div class="search-wrap">
		<input class="search-input" type="text" placeholder="Buscar pasteles, sabores, ocasiones..." [(ngModel)]="terminoBusqueda" (keyup.enter)="buscarProductos()" />
		<button class="search-btn" (click)="buscarProductos()">Buscar</button>
	</div>

	<div class="filters">
		<button [class.active]="categoriaSeleccionada==='all'" (click)="filtrarPorCategoria('all')">ğŸ° Todos los Pasteles</button>
		<button [class.active]="categoriaSeleccionada==='chocolate'" (click)="filtrarPorCategoria('chocolate')">ğŸ« Chocolate</button>
		<button [class.active]="categoriaSeleccionada==='frutas'" (click)="filtrarPorCategoria('frutas')">ğŸ“ Frutas</button>
		<button [class.active]="categoriaSeleccionada==='especiales'" (click)="filtrarPorCategoria('especiales')">â­ Especiales</button>
		<button [class.active]="categoriaSeleccionada==='cupcakes'" (click)="filtrarPorCategoria('cupcakes')">ğŸ§ Cupcakes</button>
		<button [class.active]="categoriaSeleccionada==='temporada'" (click)="filtrarPorCategoria('temporada')">ğŸƒ Temporada</button>
	</div>

	<div class="result-count">Mostrando <span class="count">{{ productos.length }}</span> pasteles deliciosos</div>

	<div *ngIf="cargando" class="loading">Cargando productos...</div>
	<div *ngIf="error" class="error">{{ error }}</div>

	<div class="product-grid">
		<article class="product-card" *ngFor="let producto of productos">
			<div class="card-hero">
				<img [src]="getImageUrl(producto)" alt="{{ producto.nombre }}" (error)="onImgError($event)">
			</div>
			<!-- Overlay que aparece al pasar el ratÃ³n sobre la imagen -->
			<div class="overlay" aria-hidden="true">
				<div class="overlay-content">
						<h5 class="ov-title">{{ producto.nombre }}</h5>
						<p class="ov-desc">{{ producto.descripcion || 'DescripciÃ³n no disponible' }}</p>
				</div>
			</div>
			<div class="card-body">
				<h4 class="product-title">{{ producto.nombre }}</h4>
				<p class="product-desc">{{ producto.descripcion }}</p>
				<div class="product-meta">
					<span class="price">${{ producto.precio }}</span>
						</div>
				<button class="add-cart" (click)="addToCart(producto)">ğŸ›’ Agregar al Carrito</button>
			</div>
		</article>
	</div>

	<div class="catalog-cta">
		<div class="cta-box">
			<h4>Â¿No encuentras lo que buscas?</h4>
			<p>Creamos pasteles personalizados para cualquier ocasiÃ³n especial.</p>
			<button class="cta-btn" (click)="scrollToSection('personalizar')">ğŸ¨ Personalizar mi Pastel</button>
		</div>
	</div>
</section>
